<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title  -->
    <title>이쿠야 병원가자!</title>

    <!-- Favicon  -->
    <link rel="icon" href="img/core-img/favicon.ico">

    <!-- Style CSS -->
    <link rel="stylesheet" href="./css_file/style.css">
    <link rel="stylesheet" type="text/css" href="./css_file/main.css" />

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>


</head>

<body>
    <!-- Preloader -->
    <div id="preloader">
        <div class="medilife-load"></div>
    </div>

    <!-- ***** Header Area Start ***** -->
    <header class="header-area">
        <!-- Main Header Area -->
        <div class="main-header-area" id="stickyHeader">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <div class="col-12 h-100">
                        <div class="main-menu h-100">
                            <nav class="navbar h-100 navbar-expand-lg">
                                <!-- Logo Area  -->

                                <a class="navbar-brand" href="index.html"><img src="img/core-img/logo.png" alt="Logo"></a>

                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#medilifeMenu" aria-controls="medilifeMenu" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>

                                <div class="collapse navbar-collapse" id="medilifeMenu">
                                    <!-- Menu Area -->
                                    <ul class="navbar-nav ml-auto">
                                        <li class="nav-item">
                                            <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" href="hospital_info.html">Hospital Information</a>
                                        </li>
                                        <li class="nav-item active">
                                            <a class="nav-link" href="reservation.html">Reservation</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="reservation_info.html">Reservation Informatio</a>
                                        </li>
                                    </ul>
                                    <!-- Appointment Button -->
                                    <a href="log_in.html" class="btn medilife-appoint-btn ml-30">Log-In/Sign-UP</a>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ***** Breadcumb Area Start ***** -->
    <section class="breadcumb-area bg-img gradient-background-overlay" style="background-image: url(img/bg-img/bg1.jpg);">
        <div class="container h-100">
            <div class="row h-100 align-items-center">
                <div class="col-12">
                    <div class="breadcumb-content">
                        <h3 class="breadcumb-title">Reservation</h3>
                        <p>Please make a reservation using the method below.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Breadcumb Area End ***** -->

    <br><br>


    <!-- ***** Book An Appoinment Area Start ***** -->
    <div class="medilife-book-an-appoinment-area">

        <div class="container">
            <div class="row">
              <div class="reservation-heading">
                  <h2>Reservation Application Form</h2>
                  <br>
              </div>
                <div class="col-12">
                    <div class="appointment-form-content">
                        <div class="row no-gutters align-items-center">
                            <div class="col-12 col-lg-9">
                                <div class="medilife-appointment-form">
                                    <!--<form action="#" method="post">-->
                                        <div class="row align-items-end">
                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <select class="form-control" onchange="categoryChange1(this)" id="area">
                                                      <option>걸그룹을 선택해주세요</option>
                                                      <option value="a">블랙핑크</option>
                                                      <option value="b">에프엑스</option>
                                                      <option value="c">EXID</option>
                                                </select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <select class="form-control" onchange="categoryChange2(this)" id="hospital">
                                                    <option>병원을 선택해주세요</option>
                                                    <option>압구정웰동물병원</option>
                                                    <option>센트럴동물병원</option>
                                                    <option>수서동물병원</option>
                                                    <option>
                                                      햇살동물병원
                                                    </option>
                                                </select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">

                                            </div>
                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <input type="date" class="form-control" name="date" id="date" placeholder="Date">
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" name="time" id="time" placeholder="Time">
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-4">
                                              <div class="form-group">
                                                  <select class="form-control" id="purpose">
                                                  <option>purose</option>
                                                  <option>미용</option>
                                                  <option>예방접종</option>
                                                  <option>정기검진</option>
                                                  <option>치료</option>
                                              </select>
                                              </div>
                                            </div>
                                            <div class="col-12 col-md-12">
                                              <h2>Individual Information</h2>
                                            </div>
                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <input type="text" class="form-control border-top-0 border-right-0 border-left-0" name="name" id="name" placeholder="Name">

                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <input type="text" class="form-control border-top-0 border-right-0 border-left-0" name="number" id="phone" placeholder="Phone">
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">
                                            </div>

                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <input type="text" class="form-control border-top-0 border-right-0 border-left-0" name="PetName" id="petName" placeholder="Pet Name">
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">
                                                <div class="form-group">
                                                    <input type="text" class="form-control border-top-0 border-right-0 border-left-0" name="PetAge" id="petAge" placeholder="Pet Age">
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-4">
                                              <div class="form-group">
                                                  <input type="text" class="form-control border-top-0 border-right-0 border-left-0" name="PetSpecies" id="petSpecies" placeholder="Pet Species">
                                              </div>
                                            </div>

                                            <div class="col-12 col-md-7">
                                                <div class="form-group mb-0">
                                                    <textarea name="message" class="form-control mb-0 border-top-0 border-right-0 border-left-0" id="message" cols="30" rows="10" placeholder="Message"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-5 mb-0">
                                                <div class="form-group mb-0">
                                                    <button class="btn medilife-btn"
                                                    onclick ='reserve()'>Make an Appointment <span>+</span></button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!--예약하기에서 파란색 부분, 병원 정보 받아서 표현할것-->
                            <div class="col-12 col-lg-3">
                                <div class="medilife-contact-info1" style = " height: 548px; ">
                                    <!-- Single Contact Info -->
                                    <div class="single-contact-info mb-30">
                                        <h3 id='hName'>Hospital Name</h3>
                                    </div>
                                    <!-- Single Contact Info -->
                                    <div class="single-contact-info mb-30">
                                        <img src="img/icons/envelope.png" alt="">
                                        <p>Contact</p>
                                        <p id='hPhone'></p>
                                    </div>
                                    <!-- Single Contact Info -->
                                    <div class="single-contact-info mb-30">
                                        <img src="img/icons/map-pin.png" alt="">
                                        <p>address</p>
                                        <p id='hAddress'></p>
                                    </div>
                                    <div class="single-contact-info mb-30">
                                        <img src="img/icons/map-pin.png" alt="">
                                        <p>Opening hours</p>
                                        <p id='hTime'></p>
                                    </div>
                                    <div class="single-contact-info">
                                        <img src="img/icons/map-pin.png" alt="">
                                        <p>Parking</p>
                                        <p id='hPark'></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ***** Book An Appoinment Area End ***** -->




    <section class="medilife-benefits-area section-padding-100-50">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section-heading">
                        <h2>Reservation<br>methods and precautions</h2>
                    </div>
                </div>
            </div>
            <div class="row align-items-center">
                <div class="col-12 col-md-4">
                    <div class="single-benefits-area mb-50 text-right">
                        <div class="single-benefits-title d-flex align-items-end row-reverse">
                            <i class="icon-teeth"></i>
                            <h5>Precautions for Reservation</h5>
                        </div>
                        <p>Please enter the information accurately.<br><br>
                          You can cancel your reservation until the day before.<br><br>
                          Personal information is used for medical purposes. If you don't want to collect personal information, it may be difficult to make a reservation.<br><br>
                          Please don't cancel the reservation without any reason if possible.<br><br>
                          Cancellation and alteration on the same day can only be made through the hospital.<br><br>
                          For other questions, please contact the contact information for each hospital.

                        </p>
                    </div>


                </div>
                <div class="col-12 col-md-4">
                    <div class="single-benefits-thumb">
                        <img src="img/bg-img/benefits.png" alt="">
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="single-benefits-area mb-50">
                        <div class="single-benefits-title d-flex align-items-end">
                            <i class="icon-flask-1"></i>
                            <h5>Reservation Method</h5>
                        </div>
                        <p>1. Log in as a member/non-member.<br>
                          2. Select a hospital<br>
                          3. Select the available date and time.<br>
                          4. Select the purpose of the visit.<br>
                          5. Enter brief information about the dog.<br>
                          6. Write down what you want to leave in addition.<br>
                          7. Press the reservation button.</p>
                    </div>
                    <div class="single-benefits-area mb-50">
                        <div class="single-benefits-title d-flex align-items-end">
                            <i class="icon-smartphone-1"></i>
                            <h5>How to confirm and cancel reservations</h5>
                        </div>
                        <p>1. Entering and retrieving information from the Schedule Information view<br>
                          2. Then cancel the reservation or change it to another available booking date.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- ***** Services Area Start ***** -->
    <div class="medilife-services-area section-padding-100-20">
        <div class="container">
            <div class="row">
              <div class="col-12">
                  <div class="section-heading">
                      <h2>Reservation Regulations</h2>
                  </div>
              </div>
                <!-- Single Service Area -->
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="single-service-area d-flex">
                        <div class="service-icon">
                            <i class="icon-doctor"></i>
                        </div>
                        <div class="service-content">
                            <h5>Regulations for Cancellation and Change</h5>
                            <p>You cannot cancel or change it on the same day through the website. Please call the hospital directly for cancellation on the same day.</p>
                        </div>
                    </div>
                </div>
                <!-- Single Service Area -->
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="single-service-area d-flex">
                        <div class="service-icon">
                            <i class="icon-blood-donation-1"></i>
                        </div>
                        <div class="service-content">
                            <h5>Personal Information Collection</h5>
                            <p>Your valuable personal information is collected, used, and provided for the purpose of medical treatment.</p>
                        </div>
                    </div>
                </div>
                <!-- Single Service Area -->
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="single-service-area d-flex">
                        <div class="service-icon">
                            <i class="icon-helicopter"></i>
                        </div>
                        <div class="service-content">
                            <h5>Questions</h5>
                            <p>For other questions, please contact the contact information for each hospital.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ***** Services Area End ***** -->

    <!--Bottom Area-->
    <div class="bottom-area">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 col-md-3">
                  <div class="footer-widget-area">
                    <div class="footer-logo">
                      <img src="img/core-img/logo.png" alt="">
                    </div>
                    <p>We offer a convenient reservation service for animal hospitals in Seoul. Using our system, you can easily see the reservation status of Seoul Animal Hospital and make reservations.</p>
                  </div>
                </div>
                <div class="col-12 col-md-1">
                </div>
                <div class="col-12 col-md-2">
                    <div class="h-100 d-md-flex justify-content-between align-items-center">
                        <p><span>Jo Wonbeen</span><br>Gachon Univ. <br>Department of software
                          <br>201533266<br>010-4043-2907<br>jwb2906@naver.com</p>
                    </div>
                </div>
                <div class="col-12 col-md-2">
                    <div class="h-100 d-md-flex justify-content-between align-items-center">
                        <p><span>Yeo Jungu</span><br>Gachon Univ.<br>Department of software
                          <br>201635824<br>010-6220-5593<br>yjk5591@naver.com</p>
                    </div>
                </div>
                <div class="col-12 col-md-2">
                    <div class="h-100 d-md-flex justify-content-between align-items-center">
                        <p><span>Oh Seongwon</span><br>Gachon Univ.<br>Department of software
                          <br>201635825<br>010-9446-1528<br>osw970325@naver.com</p>
                    </div>
                </div>
                <div class="col-12 col-md-2">
                    <div class="h-100 d-md-flex justify-content-between align-items-center">
                        <p><span>Jang Hayeong</span><br>Gachon Univ.<br>Department of software
                          <br>201735872<br>010-7942-7439<br>hyj9829@naver.com</p>
                    </div>
                </div>
            </div>
        </div>
    </div>





    <script type = "text/javascript">
    //아래 6개 정보는 로그인중인 회원의 아이디를 통해 저장
    var userId="Id test";
    var name="name test";
    var phone="010-1234-5678";
    var petName="petName test";
    var petAge="5";
    var species="포메";
    document.getElementById('date').value = new Date().toISOString().substring(0, 10);
    document.getElementById('name').value=name;
    document.getElementById('phone').value=phone;
    document.getElementById('petName').value=petName;
    document.getElementById('petAge').value=petAge;
    document.getElementById('petSpecies').value=species;


    //document.getElementById('userId').innerHTML= "ID : "+userId;

    function categoryChange1(e) {
      var good_a = ["지수", "제니", "로제", "리사"];
    	var good_b = ["빅토리아", "엠버", "루나", "크리스탈"];
	    var good_c = ["LE", "하니", "정화", "혜린", "솔지"];
	    var target = document.getElementById("hospital");

    	if(e.value == "a") var d = good_a;
    	else if(e.value == "b") var d = good_b;
    	else if(e.value == "c") var d = good_c;
      alert(d)
	    target.options.length = 0;

	    for (x in d) {
	    	var opt = document.createElement("option");
	    	opt.value = d[x];
	    	opt.innerHTML = d[x];
	    	target.appendChild(opt);
    	}
  }
  function categoryChange2(e) {
    var ref = firebase.database().ref("Hospital_Info/");
    alert(e.value);
    ref.on("value", function(snapshot){
        for(i = 0; i< Object.keys(snapshot.val()).length; i++){
          var a = firebase.database().ref("Hospital_Info/" + Object.keys(snapshot.val())[i]);

          a.on("value", function(snapshot){
            var t = Object.values(snapshot.val());
            if((t[4] == e.value)){
              if(t[9].length <2){
                t[9] = "Non-Value";
              }
              alert(t[9]);
              document.getElementById('hName')=e;
              document.getElementById('hPhone')=t[9];
              document.getElementById('hAddress')=t[0];
              document.getElementById('hTime')=t[7]+' ~ '+t[3];
              document.getElementById('hPark')=t[8];
              }
            });
        }
      });
    }

    function reserve(){
      var hospital =document.getElementById('hodpital');
      var hospital_v=hospital.options[hospital.selectedIndex].text;
      var purpose =document.getElementById('purpose');
      var purpose_v=purpose.options[purpose.selectedIndex].text;
      var name = document.getElementById('name').value;
      var phone = document.getElementById('phone').value;
      var date_v=document.getElementById('date').value;
      var time_v=document.getElementById('time').value;
      var petName_v=document.getElementById('petName').value;
      var petAge_v=document.getElementById('petAge').value;
      var petSpecies_v=document.getElementById('petSpecies').value;
      var message_v=document.getElementById('message').value;




      rootRef = firebase.database().ref('ReservationDetail/');
      rootRef.push({
        reservationNumber: "1",
        clientId: userId,
        clientName: name,
        phoneNum: phone,
        hospital: hospital_v,
        completion: "false",
        purose: purpose_v,
        date: date_v,
        time: time_v,
        reservationType: purpose_v,
        petName: petName_v,
        petAge: petAge_v,
        petSpecies: petSpecies_v,
        message: message_v
      });
    }

    </script>

    <!-- jQuery (Necessary for All JavaScript Plugins) -->
    <script src="js/jquery/jquery-2.2.4.min.js"></script>
    <!-- Popper js -->
    <script src="js/popper.min.js"></script>
    <!-- Bootstrap js -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Plugins js -->
    <!--<script src="js/plugins.js"></script>-->
    <!-- Active js -->
    <script src="js/active.js"></script>



    <!-- hosting info -->
    <script src="config.js"></script>

</body>

</html>
